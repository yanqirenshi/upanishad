
# Objects

#+BEGIN_SRC
                     +--------------------------+
                     | index structure          |
 +---------------+   |==========================|
 | pool          |   |          object          |
 |===============|   |  +-------------+         |
 | index-objects |----->| Hashe table |         |
 |---------------|   |  +-------------+         |
 | index-at      |   |     |             slot   |
 | add-index     |   |     |   +-------------+  |
 | remove-index  |   |     `-->| Hashe table |-----+
 | add-object    |   |         +-------------+  |  |
 | remove-object |   |--------------------------|  |
 +---------------+   +--------------------------+  |
                                                   |
    +----------------------------------------------+
    |
    |   +---------------+    +-------------------------------------------+
    `-->| index         |    | Hash Table                                |
        |===============|    |===========================================|
        | object        |    | INDEX                                     |
        | slot          |    | +-----------------+-------------------+   |
        | contents      |--->| | key: slot-value | value: %id-map    |+  |
        |---------------|    | |                 |                   ||+ |
        | add-object    |    | |                 | +----+--------+   ||| |
        | remove-object |    | |                 | | id | object |+  ||| |
        +---------------+    | |                 | +----+--------+|+ ||| |
                             | |                 |  +----+--------+| ||| |
                             | |                 |   +----+--------+ ||| |
                             | +-----------------+-------------------+|| |
                             |  +-----------------+-------------------+| |
                             |   +-----------------+-------------------+ |
                             +-------------------------------------------+
#+END_SRC

